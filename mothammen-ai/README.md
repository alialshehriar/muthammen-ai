# مُثمّن - تقييم عقاري ذكي 🏘️

> **منصة التقييم العقاري الذكية بالذكاء الاصطناعي**
> 
> كل عقار له قصة… ومثمّن يقرأها لك

---

## 📖 نظرة عامة

**مُثمّن** هو تطبيق ويب متقدم للتقييم العقاري باستخدام الذكاء الاصطناعي، مصمم خصيصاً للسوق السعودي. يوفر التطبيق تقييمات دقيقة وفورية للعقارات بناءً على أكثر من **100 متغير** قابل للتخصيص.

### ✨ المميزات الرئيسية

- 🧠 **ذكاء اصطناعي متقدم** - محرك محلي + دعم GPT API
- ⚡ **نتائج فورية** - تقييم شامل في أقل من دقيقة
- 📊 **دراسة السوق** - بيانات ومؤشرات السوق السعودي
- 💎 **4 باقات اشتراك** - من Basic المجاني إلى API للأعمال
- 🎁 **نظام إحالات** - مكافآت ومزايا حصرية
- 🗺️ **قريباً: خريطة الوعي العقاري** - أول خريطة تفاعلية في المملكة
- 🇸🇦 **واجهة عربية كاملة** - RTL، تنسيق عربي، ألوان احترافية

---

## 🚀 التشغيل المحلي

### المتطلبات

- Node.js 18+ أو أحدث
- pnpm (أو npm/yarn)

### الخطوات

```bash
# 1. استنساخ المشروع
git clone <repository-url>
cd mothammen-ai

# 2. تثبيت التبعيات
pnpm install
# أو
npm install

# 3. تشغيل خادم التطوير
pnpm run dev
# أو
npm run dev

# 4. افتح المتصفح على
http://localhost:5173
```

---

## 📦 البناء للإنتاج

```bash
# بناء المشروع
pnpm run build
# أو
npm run build

# معاينة البناء محلياً
pnpm run preview
# أو
npm run preview
```

سيتم إنشاء ملفات الإنتاج في مجلد `dist/`.

---

## 🌐 النشر على Vercel

### الطريقة الأولى: عبر واجهة Vercel

1. ارفع المشروع إلى GitHub
2. اذهب إلى [vercel.com](https://vercel.com)
3. اضغط **New Project**
4. اختر المستودع من GitHub
5. اضغط **Deploy**

✅ سيتم النشر تلقائياً!

### الطريقة الثانية: عبر CLI

```bash
# تثبيت Vercel CLI
npm i -g vercel

# تسجيل الدخول
vercel login

# النشر
vercel

# النشر للإنتاج
vercel --prod
```

---

## 🤖 تفعيل GPT API (اختياري)

لتفعيل التحليل المتقدم بواسطة GPT:

1. افتح ملف `src/lib/apiConfig.js`
2. ضع API Key الخاص بك:

```javascript
export const API_CONFIG = {
  enabled: true, // غيّر إلى true
  apiKey: 'sk-proj-YOUR_API_KEY_HERE', // ضع مفتاحك هنا
  // ...
};
```

3. احفظ الملف وأعد تشغيل التطبيق

**ملاحظة:** لا تشارك API Key مع أحد ولا ترفعه إلى GitHub!

---

## 🧠 محرك الذكاء الاصطناعي (aiEngine.js)

### البنية

المحرك يعمل بالكامل في المتصفح ويحلل أكثر من **100 متغير**:

```javascript
// src/lib/aiEngine.js

/**
 * المتغيرات الأساسية (وزن 40%)
 * - المساحة
 * - المدينة
 * - نوع العقار
 */

/**
 * المتغيرات الثانوية (وزن 30%)
 * - عمر العقار
 * - عدد الغرف
 * - الحمامات
 * - المواقف
 */

/**
 * المتغيرات المتقدمة (وزن 30%)
 * - المرافق (مسبح، مصعد، حديقة...)
 * - الموقع (قرب من المدارس، المستشفيات...)
 * - الحالة والتشطيب
 */
```

### تعديل الأوزان

جميع الأوزان قابلة للتعديل في `src/lib/aiEngine.js`:

```javascript
// مثال: تعديل وزن المساحة
const areaWeight = 0.25; // 25% من التقييم

// مثال: تعديل سعر المتر المربع لمدينة
const cityPrices = {
  'الرياض': 4500, // ر.س/م²
  'جدة': 4200,
  // ...
};
```

**جميع الدوال موثقة بتعليقات واضحة بالعربية!**

---

## 📊 دراسة السوق

### البيانات المحلية

البيانات الحالية موجودة في:

```
src/market/data/
├── sa_market_2025Q4.json      # البيانات الوطنية
├── cities_2025Q4.json         # بيانات المدن
└── rent_sale_2025Q4.json      # البيانات الشهرية
```

### التحويل إلى API

في المستقبل، يمكن استبدال البيانات المحلية بـ API calls:

```javascript
// src/market/utils/selectors.js

// بدلاً من:
import saMarketData from '../data/sa_market_2025Q4.json';

// استخدم:
export async function getNationalMarketData() {
  const response = await fetch('/api/market/national');
  return await response.json();
}
```

---

## 🎁 نظام الإحالات

### كيف يعمل؟

1. كل مستخدم يحصل على **رمز إحالة فريد** (7 أحرف)
2. عند مشاركة الرابط `?ref=ABC1234`، يتم تتبع الزيارة
3. عند التسجيل، تُحسب إحالة "مؤهلة"
4. المكافآت تُفتح تلقائياً عند الوصول لـ 1، 3، 10 إحالات

### الملفات ذات الصلة

- `src/hooks/useRefCapture.js` - Hook لالتقاط الرمز
- `src/lib/referralCode.js` - توليد وإدارة الرموز
- `src/pages/Referrals.jsx` - صفحة لوحة الإحالات

---

## 🎨 الهوية البصرية

### الألوان

```css
/* src/App.css */

--primary: oklch(0.45 0.15 240);      /* أزرق داكن */
--secondary: oklch(0.92 0.02 180);    /* أخضر فاتح */
--accent: oklch(0.88 0.08 220);       /* أزرق فاتح */
```

### الخطوط

- **Cairo** - الخط الأساسي للعربية
- System fonts كبديل

### RTL

جميع العناصر مُهيأة تلقائياً لـ RTL:

```css
body {
  direction: rtl;
  text-align: right;
}
```

---

## 📋 الباقات

| الباقة | السعر | الحالة | المميزات |
|--------|-------|---------|-----------|
| **Basic** | مجاني | ✅ فعّالة | تقييم أساسي + تحليل عام |
| **Smart** | ٤٩ ر.س/شهر | 🔒 قريباً | تحليل الحي + التكتلات السعرية |
| **Pro** | ١٤٩ ر.س/شهر | 🔒 قريباً | خريطة تفاعلية + AI متقدم |
| **API** | حسب الاستخدام | 🔒 قريباً | وصول كامل للـ API |

---

## 📁 هيكل المشروع

```
mothammen-ai/
├── src/
│   ├── components/          # المكونات الأساسية
│   │   ├── ui/             # مكونات shadcn/ui
│   │   ├── PropertyForm.jsx
│   │   └── ResultDisplay.jsx
│   ├── pages/              # الصفحات
│   │   ├── Subscriptions.jsx
│   │   └── Referrals.jsx
│   ├── market/             # دراسة السوق
│   │   ├── components/
│   │   ├── data/
│   │   ├── utils/
│   │   └── MarketStudy.jsx
│   ├── lib/                # المكتبات
│   │   ├── aiEngine.js     # محرك AI المحلي
│   │   ├── apiConfig.js    # إعدادات GPT
│   │   └── referralCode.js # نظام الإحالات
│   ├── hooks/              # React Hooks
│   │   └── useRefCapture.js
│   ├── App.jsx             # المكون الرئيسي
│   ├── App.css             # الأنماط
│   └── main.jsx            # نقطة الدخول
├── public/                 # الملفات العامة
├── index.html              # HTML الرئيسي
├── package.json            # التبعيات
├── vite.config.js          # إعدادات Vite
└── README.md               # هذا الملف
```

---

## ⚙️ التقنيات المستخدمة

- **React 18** - مكتبة الواجهة
- **Vite** - أداة البناء
- **Tailwind CSS** - الأنماط
- **shadcn/ui** - مكونات UI
- **Lucide React** - الأيقونات
- **Recharts** - الرسوم البيانية
- **OpenAI API** - الذكاء الاصطناعي (اختياري)

---

## 🔧 الإعدادات المتقدمة

### تخصيص المدن

أضف مدناً جديدة في `src/lib/aiEngine.js`:

```javascript
const cityPrices = {
  'الرياض': 4500,
  'جدة': 4200,
  'مدينتك': 3800, // أضف هنا
};
```

### تخصيص المرافق

أضف مرافق جديدة في `src/components/PropertyForm.jsx`:

```javascript
const facilities = [
  { id: 'pool', label: 'مسبح' },
  { id: 'gym', label: 'صالة رياضية' },
  { id: 'your_facility', label: 'مرفقك الجديد' }, // أضف هنا
];
```

---

## ⚠️ ملاحظات مهمة

### الحقول الاختيارية

**جميع الحقول اختيارية** ما عدا:
- المساحة (م²)
- المدينة

كلما أضفت تفاصيل أكثر، زادت دقة التقييم!

### الدقة

التقييمات **تقديرية** وليست رسمية. للحصول على تقييم معتمد، يُنصح بالتواصل مع مقيّم عقاري مرخّص.

### البيانات

البيانات الحالية **محلية وتجريبية**. في النسخة النهائية، سيتم تحديثها من مصادر رسمية.

---

## 🐛 الإبلاغ عن المشاكل

إذا واجهت أي مشكلة:

1. تحقق من console المتصفح
2. تأكد من تثبيت جميع التبعيات
3. جرّب مسح `node_modules` وإعادة التثبيت
4. تواصل معنا على: info@mothammen.sa

---

## 📄 الترخيص

© جميع الحقوق محفوظة 2025 لمنصّة مثمّن الذكاء العقاري السعودي

---

## 🙏 شكر خاص

- **هاكاثون روشن 2025** - للإلهام والدعم
- **المجتمع السعودي** - للملاحظات والمساهمات
- **فريق مُثمّن** - للعمل الجاد والتفاني

---

## 📞 التواصل

- **البريد الإلكتروني:** info@mothammen.sa
- **GitHub:** [github.com/mothammen](https://github.com)
- **الموقع:** [mothammen.sa](https://mothammen.sa)

---

**صُنع بـ ❤️ في المملكة العربية السعودية 🇸🇦**

